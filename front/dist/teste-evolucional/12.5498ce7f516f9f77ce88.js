(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{ammU:function(e,t,i){"use strict";i.r(t),i.d(t,"TeachersListModule",function(){return w});var s=i("ofXK"),n=i("mrSG"),o=i("+G/a"),a=i("fXoL"),d=i("OaWH");let l=(()=>{class e{constructor(){this.modals=[]}add(e){this.modals.push(e)}remove(e){this.modals=this.modals.filter(t=>t.id!==e)}open(e){this.modals.find(t=>t.id===e).open()}close(e){this.modals.find(t=>t.id===e).close()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const r=["*"];let c=(()=>{class e{constructor(e,t){this.modalService=e,this.el=t,this.element=t.nativeElement}ngOnInit(){this.id?(document.body.appendChild(this.element),this.element.addEventListener("click",e=>{"app-modal"===e.target.className&&this.close()}),this.modalService.add(this)):console.error("modal must have an id")}ngOnDestroy(){this.modalService.remove(this.id),this.element.remove()}open(){this.element.style.display="block",document.body.classList.add("app-modal-open")}close(){this.element.style.display="none",document.body.classList.remove("app-modal-open")}}return e.\u0275fac=function(t){return new(t||e)(a.Qb(l),a.Qb(a.o))},e.\u0275cmp=a.Kb({type:e,selectors:[["app-modal"]],inputs:{id:"id"},ngContentSelectors:r,decls:7,vars:0,consts:[["aria-labelledby","modal-title","role","dialog","aria-modal","true",1,"fixed","z-10","inset-0","overflow-y-auto"],[1,"flex","items-end","justify-center","min-h-screen","pt-4","px-4","pb-20","text-center","sm:block","sm:p-0"],["aria-hidden","true",1,"fixed","inset-0","bg-gray-500","bg-opacity-75","transition-opacity"],["aria-hidden","true",1,"hidden","sm:inline-block","sm:align-middle","sm:h-screen"],[1,"inline-block","align-bottom","bg-white","rounded-lg","text-left","overflow-hidden","shadow-xl","transform","transition-all","sm:my-8","sm:align-middle","sm:max-w-lg","sm:w-full"]],template:function(e,t){1&e&&(a.lc(),a.Wb(0,"div",0),a.Wb(1,"div",1),a.Rb(2,"div",2),a.Wb(3,"span",3),a.wc(4,"\u200b"),a.Vb(),a.Wb(5,"div",4),a.kc(6),a.Vb(),a.Vb(),a.Vb())},styles:["app-modal{display:none}app-modal .app-modal{align-items:center;bottom:0;display:flex;height:100%;justify-content:center;left:0;position:fixed;right:0;top:0;width:100%;z-index:1000}app-modal .app-modal .app-modal-body{background:#fff;height:auto;margin:40px;max-height:50%;max-width:50%;padding:20px;width:100%}app-modal .app-modal-background{background-color:#000;bottom:0;left:0;opacity:.75;position:fixed;right:0;top:0;z-index:900}body.app-modal-open{overflow:hidden}"],encapsulation:2}),e})();function b(e,t){if(1&e&&(a.Wb(0,"span",30),a.wc(1),a.Vb()),2&e){const e=t.$implicit,i=a.hc(3);a.Gb(1),a.yc(" ",i.getClassesName(e.classId).name," ")}}function m(e,t){if(1&e){const e=a.Xb();a.Wb(0,"tr"),a.Wb(1,"td",24),a.wc(2),a.Wb(3,"span",25),a.dc("click",function(){a.sc(e);const i=t.$implicit,s=a.hc(2);return s.openModal("custom-modal-1",{degreeId:i.degreeId,name:s.getDegree(i.degreeId).name})}),a.wc(4," Alunos "),a.Rb(5,"i",26),a.Vb(),a.Wb(6,"div",27),a.Wb(7,"strong",28),a.wc(8,"Aulas: "),a.Vb(),a.vc(9,b,2,1,"span",29),a.Vb(),a.Vb(),a.Vb()}if(2&e){const e=t.$implicit,i=a.hc(2);a.Gb(2),a.yc(" ",i.getDegree(e.degreeId).name," - "),a.Gb(7),a.mc("ngForOf",e.classes)}}function p(e,t){if(1&e&&(a.Wb(0,"tr"),a.Wb(1,"td",22),a.Wb(2,"div",23),a.wc(3),a.Vb(),a.Vb(),a.Wb(4,"td",22),a.Wb(5,"div",23),a.wc(6),a.Vb(),a.Vb(),a.Wb(7,"td",22),a.Wb(8,"table"),a.vc(9,m,10,2,"tr",10),a.Vb(),a.Vb(),a.Vb()),2&e){const e=t.$implicit;a.Gb(3),a.xc(e.teacher),a.Gb(3),a.xc(e.matter),a.Gb(3),a.mc("ngForOf",e.degrees)}}function h(e,t){1&e&&(a.Wb(0,"li"),a.wc(1,"Nenhum aluno matriculado"),a.Vb())}function g(e,t){if(1&e&&(a.Wb(0,"li",31),a.wc(1),a.Vb()),2&e){const e=t.$implicit;a.mc("id",e.id),a.Gb(1),a.xc(e.name)}}let u=(()=>{class e{constructor(e,t){this.appService=e,this.modalService=t,this.loaderHelper=new o.a,this.degreeDataModal=""}ngOnInit(){this.getMatters(),this.getTeachers(),this.getClasses(),this.getDegrees(),setTimeout(()=>{this.getRelationships()},1e3),this.bodyText="This text can be updated in modal 1"}getRelationships(){this.appService.getAllRelationships().subscribe(e=>{let t=[];e.forEach(e=>{let i=this.relationShipList.find(t=>t.id==e.teacherId).name,s=this.matters.find(t=>t.id==e.matterId).name;t.push({id:e.id,teacher:i,matter:s,degrees:e.degrees})}),this.relationShipList=t,this.loaderHelper.close(),console.log(this.relationShipList)})}getDegree(e){return this.degrees.find(t=>t.id==e)}getClassesName(e){return this.classes.find(t=>t.id==e)}getTeachers(){return Object(n.a)(this,void 0,void 0,function*(){this.loaderHelper.show(),this.appService.getAllTeachers().subscribe(e=>{this.relationShipList=e})})}getClasses(){return Object(n.a)(this,void 0,void 0,function*(){this.appService.getAllClasses().subscribe(e=>{this.classes=e})})}getDegrees(){return Object(n.a)(this,void 0,void 0,function*(){this.appService.getAllDegrees().subscribe(e=>{this.degrees=e})})}getMatters(){return Object(n.a)(this,void 0,void 0,function*(){this.appService.getAllMatters().subscribe(e=>{this.matters=e})})}getSudents(e){return Object(n.a)(this,void 0,void 0,function*(){this.appService.getAllStudents().subscribe(t=>{this.students=t.filter(t=>t.degreeId==e.degreeId)})})}openModal(e,t){this.getSudents(t),this.degreeDataModal=t,this.modalService.open(e)}closeModal(e){this.modalService.close(e)}}return e.\u0275fac=function(t){return new(t||e)(a.Qb(d.a),a.Qb(l))},e.\u0275cmp=a.Kb({type:e,selectors:[["app-teachers-list"]],decls:37,vars:4,consts:[[1,"flex","flex-col"],[1,"mb-10"],[1,"text-3xl","font-bold"],[1,"-my-2","overflow-x-auto","sm:-mx-6","lg:-mx-8"],[1,"py-2","align-middle","inline-block","min-w-full","sm:px-6","lg:px-8"],[1,"shadow","overflow-hidden","border-b","border-gray-200","sm:rounded-lg"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],[4,"ngFor","ngForOf"],["id","custom-modal-1"],[1,"bg-white","px-4","pt-5","pb-4","sm:p-6","sm:pb-4"],[1,"sm:flex","sm:items-start"],[1,"mt-3","text-center","sm:mt-0","sm:ml-4","sm:text-left"],["id","modal-title",1,"text-lg","leading-6","font-medium","text-gray-900"],[1,"mt-2","ml-3"],[1,"list-none","md:list-disc"],[4,"ngIf"],[3,"id",4,"ngFor","ngForOf"],[1,"bg-gray-50","px-4","py-3","sm:px-6","sm:flex","sm:flex-row-reverse"],["type","button",1,"focus:outline-none","text-white","text-sm","py-2.5","px-5","rounded-md","bg-blue-500","hover:bg-blue-600","hover:shadow-lg",3,"click"],[1,"px-6","py-4","whitespace-nowrap"],[1,"text-sm","text-gray-900"],[1,"text-sm","text-gray-900","py-2","whitespace-nowrap"],[1,"link-click",3,"click"],["aria-hidden","true",1,"fa","fa-search-plus"],[1,"classes-list","mt-1"],[1,"text-sm","text-gray-600"],["class","px-1.5",4,"ngFor","ngForOf"],[1,"px-1.5"],[3,"id"]],template:function(e,t){1&e&&(a.Wb(0,"div",0),a.Wb(1,"div",1),a.Wb(2,"div"),a.Wb(3,"div",1),a.Wb(4,"p",2),a.wc(5,"Nossos Professores"),a.Vb(),a.Vb(),a.Vb(),a.Rb(6,"hr",1),a.Wb(7,"div",3),a.Wb(8,"div",4),a.Wb(9,"div",5),a.Wb(10,"table",6),a.Wb(11,"thead",7),a.Wb(12,"tr"),a.Wb(13,"th",8),a.wc(14," Nome "),a.Vb(),a.Wb(15,"th",8),a.wc(16," Mat\xe9ria "),a.Vb(),a.Wb(17,"th",8),a.wc(18," Associa\xe7\xf5es "),a.Vb(),a.Vb(),a.Vb(),a.Wb(19,"tbody",9),a.vc(20,p,10,3,"tr",10),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Wb(21,"app-modal",11),a.Wb(22,"div",12),a.Wb(23,"div",13),a.Wb(24,"div",14),a.Wb(25,"h3",15),a.wc(26," Todos os alunos de: "),a.Wb(27,"i"),a.Wb(28,"u"),a.wc(29),a.Vb(),a.Vb(),a.Vb(),a.Wb(30,"div",16),a.Wb(31,"ul",17),a.vc(32,h,2,0,"li",18),a.vc(33,g,2,2,"li",19),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Wb(34,"div",20),a.Wb(35,"button",21),a.dc("click",function(){return t.closeModal("custom-modal-1")}),a.wc(36," FECHAR "),a.Vb(),a.Vb(),a.Vb(),a.Vb()),2&e&&(a.Gb(20),a.mc("ngForOf",t.relationShipList),a.Gb(9),a.xc(t.degreeDataModal.name),a.Gb(3),a.mc("ngIf",0==(null==t.students?null:t.students.length)),a.Gb(1),a.mc("ngForOf",t.students))},directives:[s.i,c,s.j],styles:[".classes-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{border-left:1px solid #bebebe}.link-click[_ngcontent-%COMP%]{cursor:pointer;display:inline-block;text-decoration:underline}.link-click[_ngcontent-%COMP%]:hover{text-decoration:none}"]}),e})();var f=i("tyNb");let v=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Ob({type:e}),e.\u0275inj=a.Nb({imports:[[s.b]]}),e})();const x=[{path:"",component:u}];let w=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Ob({type:e}),e.\u0275inj=a.Nb({imports:[[s.b,f.e.forChild(x),v]]}),e})()}}]);