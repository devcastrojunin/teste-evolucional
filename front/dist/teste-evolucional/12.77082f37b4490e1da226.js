(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{ammU:function(e,t,i){"use strict";i.r(t),i.d(t,"TeachersListModule",function(){return W});var s=i("ofXK"),n=i("mrSG"),o=i("+G/a"),l=i("fXoL"),a=i("OaWH");let r=(()=>{class e{constructor(){this.modals=[]}add(e){this.modals.push(e)}remove(e){this.modals=this.modals.filter(t=>t.id!==e)}open(e){this.modals.find(t=>t.id===e).open()}close(e){this.modals.find(t=>t.id===e).close()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=l.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const d=["*"];let c=(()=>{class e{constructor(e,t){this.modalService=e,this.el=t,this.element=t.nativeElement}ngOnInit(){this.id?(document.body.appendChild(this.element),this.element.addEventListener("click",e=>{"app-modal"===e.target.className&&this.close()}),this.modalService.add(this)):console.error("modal must have an id")}ngOnDestroy(){this.modalService.remove(this.id),this.element.remove()}open(){this.element.style.display="block",document.body.classList.add("app-modal-open")}close(){this.element.style.display="none",document.body.classList.remove("app-modal-open")}}return e.\u0275fac=function(t){return new(t||e)(l.Qb(r),l.Qb(l.o))},e.\u0275cmp=l.Kb({type:e,selectors:[["app-modal"]],inputs:{id:"id"},ngContentSelectors:d,decls:7,vars:0,consts:[["aria-labelledby","modal-title","role","dialog","aria-modal","true",1,"fixed","z-10","inset-0","overflow-y-auto"],[1,"flex","items-end","justify-center","min-h-screen","pt-4","px-4","pb-20","text-center","sm:block","sm:p-0"],["aria-hidden","true",1,"fixed","inset-0","bg-gray-500","bg-opacity-75","transition-opacity"],["aria-hidden","true",1,"hidden","sm:inline-block","sm:align-middle","sm:h-screen"],[1,"inline-block","align-bottom","bg-white","rounded-lg","text-left","overflow-hidden","shadow-xl","transform","transition-all","sm:my-8","sm:align-middle","sm:max-w-lg","sm:w-full"]],template:function(e,t){1&e&&(l.lc(),l.Wb(0,"div",0),l.Wb(1,"div",1),l.Rb(2,"div",2),l.Wb(3,"span",3),l.wc(4,"\u200b"),l.Vb(),l.Wb(5,"div",4),l.kc(6),l.Vb(),l.Vb(),l.Vb())},styles:["app-modal{display:none}app-modal .app-modal{align-items:center;bottom:0;display:flex;height:100%;justify-content:center;left:0;position:fixed;right:0;top:0;width:100%;z-index:1000}app-modal .app-modal .app-modal-body{background:#fff;height:auto;margin:40px;max-height:50%;max-width:50%;padding:20px;width:100%}app-modal .app-modal-background{background-color:#000;bottom:0;left:0;opacity:.75;position:fixed;right:0;top:0;z-index:900}body.app-modal-open{overflow:hidden}"],encapsulation:2}),e})();function b(e,t){if(1&e&&(l.Wb(0,"option",33),l.wc(1),l.Vb()),2&e){const e=t.$implicit;l.mc("value",e.id),l.Gb(1),l.xc(e.name)}}function m(e,t){if(1&e&&(l.Wb(0,"option",33),l.wc(1),l.Vb()),2&e){const e=t.$implicit;l.mc("value",e.id),l.Gb(1),l.xc(e.name)}}function p(e,t){if(1&e&&(l.Wb(0,"span",42),l.wc(1),l.Vb()),2&e){const e=t.$implicit,i=l.hc(3);l.Gb(1),l.yc(" ",i.getClassesName(e.classId).name," ")}}function h(e,t){if(1&e){const e=l.Xb();l.Wb(0,"tr"),l.Wb(1,"td",36),l.wc(2),l.Wb(3,"span",37),l.dc("click",function(){l.sc(e);const i=t.$implicit,s=l.hc(2);return s.openModal("custom-modal-1",{degreeId:i.degreeId,name:s.getDegree(i.degreeId).name})}),l.wc(4," Alunos "),l.Rb(5,"i",38),l.Vb(),l.Wb(6,"div",39),l.Wb(7,"strong",40),l.wc(8,"Aulas: "),l.Vb(),l.vc(9,p,2,1,"span",41),l.Vb(),l.Vb(),l.Vb()}if(2&e){const e=t.$implicit,i=l.hc(2);l.Gb(2),l.yc(" ",i.getDegree(e.degreeId).name," - "),l.Gb(7),l.mc("ngForOf",e.classes)}}function u(e,t){if(1&e&&(l.Wb(0,"tr"),l.Wb(1,"td",34),l.Wb(2,"div",35),l.wc(3),l.Vb(),l.Vb(),l.Wb(4,"td",34),l.Wb(5,"div",35),l.wc(6),l.Vb(),l.Vb(),l.Wb(7,"td",34),l.Wb(8,"table"),l.vc(9,h,10,2,"tr",21),l.Vb(),l.Vb(),l.Vb()),2&e){const e=t.$implicit;l.Gb(3),l.xc(e.teacher),l.Gb(3),l.xc(e.matter),l.Gb(3),l.mc("ngForOf",e.degrees)}}function g(e,t){1&e&&(l.Wb(0,"li"),l.wc(1,"Nenhum aluno matriculado"),l.Vb())}function f(e,t){if(1&e&&(l.Wb(0,"li",43),l.wc(1),l.Vb()),2&e){const e=t.$implicit;l.mc("id",e.id),l.Gb(1),l.xc(e.name)}}let v=(()=>{class e{constructor(e,t){this.appService=e,this.modalService=t,this.loaderHelper=new o.a,this.degreeDataModal=""}ngOnInit(){this.getMatters(),this.getTeachers(),this.getClasses(),this.getDegrees(),setTimeout(()=>{this.getRelationships()},1e3),this.bodyText="This text can be updated in modal 1"}getRelationships(){this.appService.getAllRelationships().subscribe(e=>{let t=[];e.forEach(e=>{let i=this.relationShipList.find(t=>t.id==e.teacherId).name,s=this.matters.find(t=>t.id==e.matterId).name;t.push({id:e.id,teacher:i,matter:s,degrees:e.degrees})}),this.relationShipList=t,this.loaderHelper.close()})}getDegree(e){return this.degrees.find(t=>t.id==e)}getClassesName(e){return this.classes.find(t=>t.id==e)}getTeachers(){return Object(n.a)(this,void 0,void 0,function*(){this.loaderHelper.show(),this.appService.getAllTeachers().subscribe(e=>{this.relationShipList=e})})}getClasses(){return Object(n.a)(this,void 0,void 0,function*(){this.appService.getAllClasses().subscribe(e=>{this.classes=e})})}getDegrees(){return Object(n.a)(this,void 0,void 0,function*(){this.appService.getAllDegrees().subscribe(e=>{this.degrees=e})})}getMatters(){return Object(n.a)(this,void 0,void 0,function*(){this.appService.getAllMatters().subscribe(e=>{this.matters=e})})}getSudents(e){return Object(n.a)(this,void 0,void 0,function*(){this.appService.getAllStudents().subscribe(t=>{this.students=t.filter(t=>t.degreeId==e.degreeId)})})}openModal(e,t){this.getSudents(t),this.degreeDataModal=t,this.modalService.open(e)}closeModal(e){this.modalService.close(e)}}return e.\u0275fac=function(t){return new(t||e)(l.Qb(a.a),l.Qb(r))},e.\u0275cmp=l.Kb({type:e,selectors:[["app-teachers-list"]],decls:55,vars:6,consts:[[1,"flex","flex-col"],[1,"mb-10"],[1,"mb-2"],[1,"text-lg","font-bold"],[1,"relative","inline-flex","mr-5"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 412 232",1,"w-2","h-2","absolute","top-0","right-0","m-4","pointer-events-none"],["d","M206 171.144L42.678 7.822c-9.763-9.763-25.592-9.763-35.355 0-9.763 9.764-9.763 25.592 0 35.355l181 181c4.88 4.882 11.279 7.323 17.677 7.323s12.796-2.441 17.678-7.322l181-181c9.763-9.764 9.763-25.592 0-35.355-9.763-9.763-25.592-9.763-35.355 0L206 171.144z","fill","#648299","fill-rule","nonzero"],[1,"border","border-gray-300","rounded-full","text-gray-600","h-10","pl-5","pr-10","bg-white","hover:border-gray-400","focus:outline-none","appearance-none"],["classesLocal",""],["value",""],[3,"value",4,"ngFor","ngForOf"],["degreesLocal",""],[1,"inline-flex"],["type","button",1,"focus:outline-none","text-white","text-sm","py-2.5","px-5","rounded-md","bg-blue-500","hover:bg-blue-600","hover:shadow-lg"],[1,"-my-2","overflow-x-auto","sm:-mx-6","lg:-mx-8"],[1,"py-2","align-middle","inline-block","min-w-full","sm:px-6","lg:px-8"],[1,"shadow","overflow-hidden","border-b","border-gray-200","sm:rounded-lg"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],[4,"ngFor","ngForOf"],["id","custom-modal-1"],[1,"bg-white","px-4","pt-5","pb-4","sm:p-6","sm:pb-4"],[1,"sm:flex","sm:items-start"],[1,"mt-3","text-center","sm:mt-0","sm:ml-4","sm:text-left"],["id","modal-title",1,"text-lg","leading-6","font-medium","text-gray-900"],[1,"mt-2","ml-3"],[1,"list-none","md:list-disc"],[4,"ngIf"],[3,"id",4,"ngFor","ngForOf"],[1,"bg-gray-50","px-4","py-3","sm:px-6","sm:flex","sm:flex-row-reverse"],["type","button",1,"focus:outline-none","text-white","text-sm","py-2.5","px-5","rounded-md","bg-blue-500","hover:bg-blue-600","hover:shadow-lg",3,"click"],[3,"value"],[1,"px-6","py-4","whitespace-nowrap"],[1,"text-sm","text-gray-900"],[1,"text-sm","text-gray-900","py-2","whitespace-nowrap"],[1,"link-click",3,"click"],["aria-hidden","true",1,"fa","fa-search-plus"],[1,"classes-list","mt-1"],[1,"text-sm","text-gray-600"],["class","px-1.5",4,"ngFor","ngForOf"],[1,"px-1.5"],[3,"id"]],template:function(e,t){1&e&&(l.Wb(0,"div",0),l.Wb(1,"div",1),l.Wb(2,"div",2),l.Wb(3,"p",3),l.wc(4,"Filtrar:"),l.Vb(),l.Vb(),l.Wb(5,"div",4),l.gc(),l.Wb(6,"svg",5),l.Rb(7,"path",6),l.Vb(),l.fc(),l.Wb(8,"select",7,8),l.Wb(10,"option",9),l.wc(11,"Selecione uma classe"),l.Vb(),l.vc(12,b,2,2,"option",10),l.Vb(),l.Vb(),l.Wb(13,"div",4),l.gc(),l.Wb(14,"svg",5),l.Rb(15,"path",6),l.Vb(),l.fc(),l.Wb(16,"select",7,11),l.Wb(18,"option",9),l.wc(19,"Selecione uma s\xe9rie"),l.Vb(),l.vc(20,m,2,2,"option",10),l.Vb(),l.Vb(),l.Wb(21,"div",12),l.Wb(22,"button",13),l.wc(23,"BUSCAR"),l.Vb(),l.Vb(),l.Vb(),l.Rb(24,"hr",1),l.Wb(25,"div",14),l.Wb(26,"div",15),l.Wb(27,"div",16),l.Wb(28,"table",17),l.Wb(29,"thead",18),l.Wb(30,"tr"),l.Wb(31,"th",19),l.wc(32," Nome "),l.Vb(),l.Wb(33,"th",19),l.wc(34," Mat\xe9ria "),l.Vb(),l.Wb(35,"th",19),l.wc(36," Associa\xe7\xf5es "),l.Vb(),l.Vb(),l.Vb(),l.Wb(37,"tbody",20),l.vc(38,u,10,3,"tr",21),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(39,"app-modal",22),l.Wb(40,"div",23),l.Wb(41,"div",24),l.Wb(42,"div",25),l.Wb(43,"h3",26),l.wc(44," Todos os alunos de: "),l.Wb(45,"i"),l.Wb(46,"u"),l.wc(47),l.Vb(),l.Vb(),l.Vb(),l.Wb(48,"div",27),l.Wb(49,"ul",28),l.vc(50,g,2,0,"li",29),l.vc(51,f,2,2,"li",30),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(52,"div",31),l.Wb(53,"button",32),l.dc("click",function(){return t.closeModal("custom-modal-1")}),l.wc(54," FECHAR "),l.Vb(),l.Vb(),l.Vb()),2&e&&(l.Gb(12),l.mc("ngForOf",t.classes),l.Gb(8),l.mc("ngForOf",t.degrees),l.Gb(18),l.mc("ngForOf",t.relationShipList),l.Gb(9),l.xc(t.degreeDataModal.name),l.Gb(3),l.mc("ngIf",0==(null==t.students?null:t.students.length)),l.Gb(1),l.mc("ngForOf",t.students))},directives:[s.i,c,s.j],styles:[".classes-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{border-left:1px solid #bebebe}.link-click[_ngcontent-%COMP%]{cursor:pointer;display:inline-block;text-decoration:underline}.link-click[_ngcontent-%COMP%]:hover{text-decoration:none}"]}),e})();var x=i("tyNb");let w=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.Ob({type:e}),e.\u0275inj=l.Nb({imports:[[s.b]]}),e})();const y=[{path:"",component:v}];let W=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.Ob({type:e}),e.\u0275inj=l.Nb({imports:[[s.b,x.e.forChild(y),w]]}),e})()}}]);